!function(){"use strict";var d=function(t,e){this.r=new RegExp(t,e.split("u").join(""))};d.__name__=!0,d.prototype={match:function(t){return this.r.global&&(this.r.lastIndex=0),this.r.m=this.r.exec(t),this.r.s=t,null!=this.r.m}};var n=function(){};n.__name__=!0,n.cca=function(t,e){var n=t.charCodeAt(e);if(n==n)return n};var v=function(){};v.__name__=!0,v.exists=function(t,e){for(var n=t.iterator();n.hasNext();){if(e(n.next()))return!0}return!1};var e=function(){this.length=0};e.__name__=!0,e.prototype={iterator:function(){return new t(this.h)}};var t=function(t){this.head=t};t.__name__=!0,t.prototype={hasNext:function(){return null!=this.head},next:function(){var t=this.head.item;return this.head=this.head.next,t}};var r=function(){this.previousfromTop=0,this.isRoot="/"==window.location.pathname,this.isHomepage=!1,this.divMap=new s,this.divArr=[];var e=this;window.console.log("MONK - version: 0.3.0 - build: "+y.BUILD),$(window.document).ready(function(t){$("body").hasClass("monk-homepage")?(e.isHomepage=!0,e.initHomepage(),e.isRoot&&e.loadData()):e.initParallax(),e.initScrollTo()}),$(window).resize(function(t){window.console.debug("resized"),e.isHomepage?e.initHomepage():e.initParallax()}),$(window).scroll(function(t){e.isHomepage?e.scrollHomepage():e.scrollParallax()}),$(".post").length<=0&&$("#toggle-text").hide(),$("#toggle-text").click(function(t){t.preventDefault(),r.isTextVisible?($(t.currentTarget).html('<i class="fas fa-eye-slash fa-sm"></i>'),$(".post").fadeTo(500,0)):($(t.currentTarget).html('<i class="fas fa-eye fa-sm"></i>'),$(".post").fadeTo(500,1)),r.isTextVisible=!r.isTextVisible})};r.__name__=!0,r.main=function(){new r},r.prototype={initHomepage:function(){var n=this;this.divArr=[],this.divMap=new s;var t=$(window).width();window.console.debug("width: "+t),$(".slide").each(function(t,e){n.divArr.push(this),n.divMap.set(this,!1)}),this.updateHomepageImages(0,this.divArr[0]),this.scrollHomepage()},rebuildHomepage:function(t){var e=10;$("#main").html("\x3c!-- reset --\x3e");var n=t.photos;o.shuffle(n);var r="";e>=n.length&&(e=n.length);for(var a=0,i=e;a<i;){r+=n[a++].html}$("#main").html(r),this.initHomepage()},scrollHomepage:function(){var t=$(window.document).scrollTop(),e=$("nav").height();(e<t&&($(".brand-name").addClass("brand-name-hide"),$("#brand").addClass("brand-img-show"),$("nav").addClass("hideup")),t<e&&($(".brand-name").removeClass("brand-name-hide"),$("#brand").removeClass("brand-img-show"),$("nav").removeClass("hideup")),t<this.previousfromTop)&&(100<=this.previousfromTop-t&&($(".brand-name").removeClass("brand-name-hide"),$("#brand").removeClass("brand-img-show"),$("nav").removeClass("hideup")));t>=this.previousfromTop&&(this.previousfromTop=t);for(var n=0,r=this.divArr.length;n<r;){var a=n++,i=this.divArr[a];if(!this.divMap.h[i.__id__]){var o=$(i).offset().top,s=$(i).height();o<=t&&t<o+s&&this.updateHomepageImages(a,i)}}},updateHomepageImages:function(t,e){if(this.divMap.set(e,!0),!(t+1>this.divArr.length))for(var n=[e,this.divArr[t+1]],r=0,a=n.length;r<a;){for(var i=n[r++],o=f.string(y.photoFileSizeArray[y.photoFileSizeArray.length-1]),s=$(window).width(),l=0,c=y.photoFileSizeArray.length;l<c;){var u=l++,h=y.photoFileSizeArray[u];s<=h&&(o=null==h?"null":""+h)}var p=$(i).find("img").attr("data-folder"),_=$(i).find("img").attr("data-img");if(-1!=window.location.href.indexOf(p))$(i).find("img").attr("src",o+"/"+_);else $(i).find("img").attr("src",p+"/"+o+"/"+_)}},initScrollTo:function(){for(var t=$("a"),e=0,n=t.length;e<n;){var r=t[e++],a=r.getAttribute("href");null!=a&&(-1!=a.indexOf("#")&&1<a.length&&$(r).addClass("scroll-to-content"))}$(".scroll-to-content").click(function(t){var e=this.getAttribute("href");$("html, body").animate({scrollTop:$(e.toString()).offset().top})})},initParallax:function(){var t=0,e=0;t+=f.parseInt($(".parallax-container").parent().css("padding-left")),t+=f.parseInt($(".parallax-container").parent().parent().css("padding-left")),t+=f.parseInt($(".parallax-container").parent().parent().parent().css("padding-left")),e+=f.parseInt($(".parallax-container").parent().css("margin-left")),e+=f.parseInt($(".parallax-container").parent().parent().css("margin-left")),e+=f.parseInt($(".parallax-container").parent().parent().parent().css("margin-left")),$(".parallax-container").css("left","-"+(t+e+1)+"px"),$(".parallax-container").css("width",$(window).width()+"px"),$(".parallax img").css({display:"block",transform:"translate3d(-50%, 0px, 0px)"}),$(".parallax-container").attr("data-translate-y","0"),this.scrollParallax()},scrollParallax:function(){for(var t=$(window.document).scrollTop(),e=$(".parallax-container"),n=0,r=e.length;n<r;){var a=n++,i=$(e[a]).offset().top,o=$(e[a]).height(),s=$(e[a]).find(".parallax img").height();if(0==s)return void m.delay(b(this,this.scrollParallax),100);var l=$(window).height()/3|0,c=.8*s|0;s<=o&&$(e[a]).height(c),l<=c&&$(e[a]).height(l);var u=i+o-(i-window.innerHeight),h=(t-(i-window.innerHeight))/u,p=s-o;if(t<=i+o&&t+window.innerHeight>=i?($(e[a]).hasClass("parallax-not-visible")&&$(e[a]).removeClass("parallax-not-visible"),$(e[a]).addClass("parallax-visible")):($(e[a]).hasClass("parallax-visible")&&$(e[a]).removeClass("parallax-visible"),$(e[a]).addClass("parallax-not-visible")),$(e[a]).hasClass("parallax-visible")){var _=p*h;$(e[a]).find(".parallax img").css({transform:"translate3d(-50%, "+_+"px, 0px)"})}}},loadData:function(){var n=this;console.log(this.isRoot);var t=new i("/data/photos.json");t.onData=function(t){try{var e=JSON.parse(t);console.log(e),n.rebuildHomepage(e)}catch(t){t instanceof g&&(t=t.val),console.log(t)}},t.onError=function(t){console.log("error: "+t)},t.onStatus=function(t){console.log("status: "+t)},t.request(!0)}},Math.__name__=!0;var o=function(){};o.__name__=!0,o.shuffle=function(t){if(null!=t)for(var e=0,n=t.length;e<n;){var r=e++,a=Math.floor((t.length-1+1)*Math.random()),i=t[r],o=t[a];t[r]=o,t[a]=i}return t};var f=function(){};f.__name__=!0,f.string=function(t){return w.__string_rec(t,"")},f.parseInt=function(t){var e=parseInt(t,10);return 0!=e||120!=n.cca(t,1)&&88!=n.cca(t,1)||(e=parseInt(t)),isNaN(e)?null:e};var a=function(){};a.__name__=!0;var i=function(t){this.url=t,this.headers=new e,this.params=new e,this.async=!0,this.withCredentials=!1};i.__name__=!0,i.prototype={request:function(t){var r=this;r.responseData=null;var a=this.req=x.createXMLHttpRequest(),e=function(t){if(4==a.readyState){var e;try{e=a.status}catch(t){e=null}if(null!=e&&"undefined"!=typeof window){var n=window.location.protocol.toLowerCase();new d("^(?:about|app|app-storage|.+-extension|file|res|widget):$","").match(n)&&(e=null!=a.responseText?200:404)}if(null==e&&(e=null),null!=e&&r.onStatus(e),null!=e&&200<=e&&e<400)r.req=null,r.onData(r.responseData=a.responseText);else if(null==e)r.req=null,r.onError("Failed to connect or resolve host");else switch(e){case 12007:r.req=null,r.onError("Unknown host");break;case 12029:r.req=null,r.onError("Failed to connect to host");break;default:r.req=null,r.responseData=a.responseText,r.onError("Http Error #"+a.status)}}};this.async&&(a.onreadystatechange=e);var n=this.postData;if(null!=n)t=!0;else for(var i=this.params.h;null!=i;){var o=i.item;i=i.next;var s=o;null==n?n="":n+="&";var l=s.param,c=encodeURIComponent(l)+"=",u=s.value;n+=c+encodeURIComponent(u)}try{if(t)a.open("POST",this.url,this.async);else if(null!=n){var h=this.url.split("?").length<=1;a.open("GET",this.url+(h?"?":"&")+n,this.async),n=null}else a.open("GET",this.url,this.async)}catch(t){return t instanceof g&&(t=t.val),r.req=null,void this.onError(t.toString())}a.withCredentials=this.withCredentials,!v.exists(this.headers,function(t){return"Content-Type"==t.header})&&t&&null==this.postData&&a.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var p=this.headers.h;null!=p;){var _=p.item;p=p.next;var f=_;a.setRequestHeader(f.header,f.value)}a.send(n),this.async||e()},onData:function(t){},onError:function(t){},onStatus:function(t){}};var m=function(t){var e=this;this.id=setInterval(function(){e.run()},t)};m.__name__=!0,m.delay=function(t,e){var n=new m(e);return n.run=function(){n.stop(),t()},n},m.prototype={stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},run:function(){}};var s=function(){this.h={__keys__:{}}};s.__name__=!0,s.__interfaces__=[a],s.prototype={set:function(t,e){var n=t.__id__||(t.__id__=++s.count);this.h[n]=e,this.h.__keys__[n]=t}};var g=function(t){Error.call(this),this.val=t,this.message=String(t),Error.captureStackTrace&&Error.captureStackTrace(this,g)};g.__name__=!0,g.wrap=function(t){return t instanceof Error?t:new g(t)},g.__super__=Error,g.prototype=function(t,e){function n(){}n.prototype=t;var r=new n;for(var a in e)r[a]=e[a];return e.toString!==Object.prototype.toString&&(r.toString=e.toString),r}(Error.prototype,{});var w=function(){};w.__name__=!0,w.__string_rec=function(t,e){if(null==t)return"null";if(5<=e.length)return"<...>";var n=typeof t;switch("function"==n&&(t.__name__||t.__ename__)&&(n="object"),n){case"function":return"<function>";case"object":if(t instanceof Array){if(t.__enum__){if(2==t.length)return t[0];var r=t[0]+"(";e+="\t";for(var a=2,i=t.length;a<i;){var o=a++;r+=2!=o?","+w.__string_rec(t[o],e):w.__string_rec(t[o],e)}return r+")"}var s="[";e+="\t";for(var l=0,c=t.length;l<c;){var u=l++;s+=(0<u?",":"")+w.__string_rec(t[u],e)}return s+="]"}var h;try{h=t.toString}catch(t){return"???"}if(null!=h&&h!=Object.toString&&"function"==typeof h){var p=t.toString();if("[object Object]"!=p)return p}var _=null,f="{\n";e+="\t";var d=null!=t.hasOwnProperty;for(var _ in t)d&&!t.hasOwnProperty(_)||"prototype"!=_&&"__class__"!=_&&"__super__"!=_&&"__interfaces__"!=_&&"__properties__"!=_&&(2!=f.length&&(f+=", \n"),f+=e+_+" : "+w.__string_rec(t[_],e));return f+="\n"+(e=e.substring(1))+"}";case"string":return t;default:return String(t)}};var x=function(){};x.__name__=!0,x.createXMLHttpRequest=function(){if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)return new ActiveXObject("Microsoft.XMLHTTP");throw new g("Unable to create XMLHttpRequest object.")};var y=function(){};y.__name__=!0;var l=0;function b(t,e){return null==e?null:(null==e.__id__&&(e.__id__=l++),null==t.hx__closures__?t.hx__closures__={}:n=t.hx__closures__[e.__id__],null==n&&((n=function(){return n.method.apply(n.scope,arguments)}).scope=t,n.method=e,t.hx__closures__[e.__id__]=n),n);var n}String.__name__=!0,Array.__name__=!0,r.isTextVisible=!0,s.count=0,y.photoFileSizeArray=[3840,2560,1920,1280,1024,640],y.BUILD="2018-06-15 17:13:02",r.main()}();